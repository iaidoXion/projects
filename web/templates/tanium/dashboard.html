{% extends 'base.html' %}
{% block content %}
{% load static %}
<div class="container-frame container-color">
    <div class="container-color container-mid">
        <div class="container-section-color container-left my-float-left">
            <div class="container-child-color container-left-top my-border">
                <div class="content-title">
                    <a class="my-float-left"><img src="{% static 'img/dashboard/barchart.png' %}"/></a>
                    <div class="conText">Asset Count By Item</div>
                </div>
                <div id="barLegend"></div>
                <div id="barChart"></div>
            </div>
            <div class="container-child-color container-left-bot my-border">
                <div class="content-title">
                    <a class="my-float-left"><img src="{% static 'img/dashboard/linechart.png' %}"/></a>
                    <div class="conText">Asset By Day Item Count</div>
                </div>
                <div id="lineLegend"></div>
                <div id="lineChart"></div>
            </div>
            <div class="container-child-color container-left-top my-border my-margin-top">
                <div class="content-title">
                    <a class="my-float-left"><img src="{% static 'img/dashboard/pie.png' %}"/></a>
                    <div class="conText">OS Count By Item(Top3)</div>
                </div>
                <div id="pieChart"></div>
            </div>
        </div>
        <div class="container-child-color container-center my-float-left my-border">
            <div class="mapLeft" style="overflow:hidden">
                {% if MapUse.WorldUse == 'block' %}
                <div class="container-child-color my-float-left world-map" style="display:{{MapUse.WorldUse}}">
                    <div id="worldMap"></div>
                </div>
                {%endif%}
                {% if MapUse.KoreaUse == 'block' %}
                <div class="container-child-color my-float-left korea-map" style="display:{{MapUse.KoreaUse}}">
                    <div id="koreaMap"></div>
                </div>
                {%endif%}
                {% if MapUse.AreaUse == 'block' %}
                <div class="container-child-color my-float-left si-map" style="display:{{MapUse.AreaUse}}">
                    <div id="siMap"></div>
                </div>
                {%endif%}
                {% if MapUse.ZoneUse == 'block' %}
                <div class="container-child-color my-float-left gu-map" style="display:{{MapUse.ZoneUse}}">
                    <div id="guMap"></div>
                </div>
                {%endif%}

            </div>
            <div class="mapChartMenuWorld">
                    <div class="mapChartMenuWrap">
                        {% if MapUse.WorldUse == 'block' %}
                        <button type="button" class="btn btn-secondary btnWorld">World</button>
                        {%endif%}
                        {% if MapUse.KoreaUse == 'block' %}
                        <button type="button" class="btn btn-secondary btnKorea">Korea</button>
                        {%endif%}
                        {% if MapUse.AreaUse == 'block' %}
                        <button type="button" class="btn btn-secondary btnSi">Area</button>
                        {%endif%}
                        {% if MapUse.ZoneUse == 'block' %}
                        <button type="button" class="btn btn-secondary btnGu">Zone</button>
                        {%endif%}
                    </div>
            </div>
            <div class="mapRight">
                        <ul class="mapRightWrap">
                           {% if chartData.alarmDataList %}
                           {% for firstData in chartData.alarmDataList.LHAL.firstData %}
                            <a class="expansionWrap mouse-over-cursor" id="zoneBt1">
                                <li>
                                    <div class="mapGps">
                                        <img src="{% static 'img/dashboard/gps.png' %}"/>
                                    </div>
                                    <div class="mapCont">
                                        <div class="my-margin-bot-4 mapContTop">Alarm Case : {{firstData.alarmText}}</div>
                                        <div>Asset ID : {{firstData.id}}</div>
                                        <div>Asset IP : {{firstData.ip}}</div>
                                    </div>
                                </li>
                            </a>
                            {% endfor %}
                            <div class="shadow"></div>
                            <div id="popZoneBt1" class="pop-korea" style="display: none;">
                                <a id="closeZoneBt1" class="popClose mouse-over-cursor">
                                    <img class="imgCloseGray" src="{% static 'img/common/close.png' %}" width="10px" height="10px"/>
                                </a>
                                <div class="popMap">
                                    <table class="popTable">
                                        <colgroup>
                                            <col class="width260">
                                            <col class="width300">
                                            <col class="width400">
                                        </colgroup>
                                        <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">IP</th>
                                                <th scope="col">AlarmText</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        {% for dataList in chartData.alarmDataList.LHAL.dataList %}
                                            <tr>
                                                <td>{{dataList.id}}</td>
                                                <td>{{dataList.ip}}</td>
                                                <td>{{dataList.alarmText}}</td>
                                            </tr>
                                        </tbody>
                                        {% endfor %}
                                    </table>
                                </div>
                            </div>

                            {% for firstData in chartData.alarmDataList.DSAL.firstData %}
                            <a class="expansionWrap mouse-over-cursor" id="zoneBt2">
                                <li>
                                    <div class="mapGps">
                                        <img src="{% static 'img/dashboard/gps.png' %}"/>
                                    </div>
                                    <div class="mapCont">
                                        <div class="my-margin-bot-4 mapContTop">Alarm Case : {{firstData.alarmText}}</div>
                                        <div>Asset ID : {{firstData.id}}</div>
                                        <div>Asset IP : {{firstData.ip}}</div>
                                    </div>
                                </li>
                            </a>
                            {% endfor %}
                            <div class="shadow"></div>
                            <div id="popZoneBt2" class="pop-korea" style="display: none;">
                                <a id="closeZoneBt2" class="popClose mouse-over-cursor">
                                    <img class="imgCloseGray" src="{% static 'img/common/close.png' %}" width="10px" height="10px"/>
                                </a>
                                <div class="popMap">
                                    <table class="popTable">
                                        <colgroup>
                                            <col class="width260">
                                            <col class="width320">
                                            <col class="width420">
                                        </colgroup>
                                        <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">IP</th>
                                                <th scope="col">AlarmText</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        {% for dataList in chartData.alarmDataList.DSAL.dataList %}
                                            <tr>
                                                <td>{{dataList.id}}</td>
                                                <td>{{dataList.ip}}</td>
                                                <td>{{dataList.alarmText}}</td>
                                            </tr>
                                        </tbody>
                                        {% endfor %}
                                    </table>
                                </div>
                            </div>

                            {% for firstData in chartData.alarmDataList.LPCAL.firstData %}
                            <a class="expansionWrap mouse-over-cursor" id="zoneBt3">
                                <li>
                                    <div class="mapGps">
                                        <img src="{% static 'img/dashboard/gps.png' %}"/>
                                    </div>
                                    <div class="mapCont">
                                        <div class="my-margin-bot-4 mapContTop">Alarm Case : {{firstData.alarmText}}</div>
                                        <div>Asset ID : {{firstData.id}}</div>
                                        <div>Asset IP : {{firstData.ip}}</div>
                                    </div>
                                </li>
                            </a>
                            {% endfor %}
                            <div class="shadow"></div>
                            <div id="popZoneBt3" class="pop-korea" style="display: none;">
                                <a id="closeZoneBt3" class="popClose mouse-over-cursor">
                                    <img class="imgCloseGray" src="{% static 'img/common/close.png' %}" width="10px"
                                         height="10px"/>
                                </a>
                                <div class="popMap">
                                    <table class="popTable">
                                        <colgroup>
                                            <col class="width250">
                                            <col class="width300">
                                            <col class="width400">
                                        </colgroup>
                                        <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">IP</th>
                                                <th scope="col">AlarmText</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        {% for dataList in chartData.alarmDataList.LPCAL.dataList %}
                                            <tr>
                                                <td>{{dataList.id}}</td>
                                                <td>{{dataList.ip}}</td>
                                                <td>{{dataList.alarmText}}</td>
                                            </tr>
                                        </tbody>
                                        {% endfor %}
                                    </table>
                                </div>
                            </div>

                            {% for firstData in chartData.alarmDataList.EPCAL.firstData %}
                            <a class="expansionWrap mouse-over-cursor" id="zoneBt4">
                                <li>
                                    <div class="mapGps">
                                        <img src="{% static 'img/dashboard/gps.png' %}"/>
                                    </div>
                                    <div class="mapCont">
                                        <div class="my-margin-bot-4 mapContTop">Alarm Case : {{firstData.alarmText}}</div>
                                        <div>Asset ID : {{firstData.id}}</div>
                                        <div>Asset IP : {{firstData.ip}}</div>
                                    </div>
                                </li>
                            </a>
                            {% endfor %}
                            <div class="shadow"></div>
                            <div id="popZoneBt4" class="pop-korea" style="display: none;">
                                <a id="closeZoneBt4" class="popClose mouse-over-cursor">
                                    <img class="imgCloseGray" src="{% static 'img/common/close.png' %}" width="10px" height="10px"/>
                                </a>
                                <div class="popMap">
                                    <table class="popTable">
                                        <colgroup>
                                            <col class="width260">
                                            <col class="width320">
                                            <col class="width420">
                                        </colgroup>
                                        <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">IP</th>
                                                <th scope="col">AlarmText</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        {% for dataList in chartData.alarmDataList.EPCAL.dataList %}
                                            <tr>
                                                <td>{{dataList.id}}</td>
                                                <td>{{dataList.ip}}</td>
                                                <td>{{dataList.alarmText}}</td>
                                            </tr>
                                        </tbody>
                                        {% endfor %}
                                    </table>
                                </div>
                            </div>
                            {% for firstData in chartData.alarmDataList.RUSAL.firstData %}
                            <a class="expansionWrap mouse-over-cursor" id="zoneBt5">
                            <li>
                                <div class="mapGps">
                                    <img src="{% static 'img/dashboard/gps.png' %}"/>
                                </div>
                                <div class="mapCont">
                                    <div class="my-margin-bot-4 mapContTop">Alarm Case : {{firstData.alarmText}}</div>
                                    <div>Asset ID : {{firstData.id}}</div>
                                    <div>Asset IP : {{firstData.ip}}</div>
                                </div>
                            </li>
                            </a>
                            {% endfor %}
                            <div class="shadow"></div>
                            <div id="popZoneBt5" class="pop-korea" style="display: none;">
                                <a id="closeZoneBt5" class="popClose mouse-over-cursor">
                                    <img class="imgCloseGray" src="{% static 'img/common/close.png' %}" width="10px" height="10px"/>
                                </a>
                                <div class="popMap">
                                    <table id="popTable" class="popTable">
                                        <colgroup>
                                            <col class="width260">
                                            <col class="width320">
                                            <col class="width420">
                                        </colgroup>
                                        <thead>
                                            <tr>
                                                <th scope="col">ID</th>
                                                <th scope="col">IP</th>
                                                <th scope="col">AlarmText</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        {% for dataList in chartData.alarmDataList.RUSAL.dataList %}
                                            <tr>
                                                <td>{{dataList.id}}</td>
                                                <td>{{dataList.ip}}</td>
                                                <td>{{dataList.alarmText}}</td>
                                            </tr>
                                        </tbody>
                                        {% endfor %}
                                    </table>
                                </div>
                            </div>
                            {% endif%}
                        </ul>
                    </div>
        </div>
    </div>
    <div class="container-color container-bot my-border">
        <div class="als-container" id="demo2">
            <span class="als-prev"><img src="{% static 'img/dashboard/arrowPrev.png' %}"/></span>
            <div class="als-viewport">
                <ul class="als-wrapper">
                    {% if chartData.bannerDataList %}
                    {% for bannerData in chartData.bannerDataList %}
                    <li class="als-item my-border">
                        <div class="conBotTop">{{bannerData.name}}</div>
                        <div class="conBotBot">
                            <p class="botConTotalNum">{{bannerData.count}}</p>
                            <div class="my-float-left conBotImg">
                                {% if bannerData.roc == 0 %}
                                <a class="conBotIcon"> - </a>
                                {% elif bannerData.roc > 0 %}
                                <img src="{% static 'img/common/arrowTop.png' %}">
                                {% else %}
                                <img src="{% static 'img/common/arrowBot.png' %}">
                                {% endif %}
                            </div>
                            <p class="botConNum my-float-left">
                                {% if bannerData.roc < 0 %}
                                    {% widthratio bannerData.roc 1 -1 %}
                                {% else %}
                                    {{bannerData.roc}}
                                {% endif %}
                            </p>
                        </div>
                    </li>
                    {% endfor %}
                    {% endif %}
                </ul>
            </div>
            <span class="als-next"><img src="{% static 'img/dashboard/arrowNext.png' %}"/></span>
        </div>
    </div>
</div>
<!-- Dashboard Chart Start -->
<!--<script src="{% static 'js/chart/gaugeChart.js' %}"></script>-->
<script src="{% static 'js/chart/barchart.js' %}"></script>
<script src="{% static 'js/chart/linechart.js' %}"></script>
<script src="{% static 'js/chart/piechart.js' %}"></script>
<script src="{% static 'js/chart/mapchart.js' %}"></script>
<script src="{% static 'js/chart/network.js' %}"></script>
<script type="text/javascript">
	{% if chartData.barChartDataList %}
	var barChartData = [
		{% for barChartData in chartData.barChartDataList %}
			{name: '{{barChartData.name}}', value: {{barChartData.value}}},
		{% endfor %}
		];
	{% endif %}

	{% if chartData.lineChartDataList %}
        var lineChartData =  /*[
            {name: 'Desktop', date: '2022-07-01', price: 12},
            {name: 'Desktop', date: '2022-07-02', price: 12},
            {name: 'Desktop', date: '2022-07-03', price: 12},
            {name: 'Desktop', date: '2022-07-04', price: 12},
            {name: 'Desktop', date: '2022-07-05', price: 12},
            {name: 'Notebook', date: '2022-07-01', price: 12},
            {name: 'Notebook', date: '2022-07-02', price: 12},
            {name: 'Notebook', date: '2022-07-03', price: 12},
            {name: 'Notebook', date: '2022-07-04', price: 12},
            {name: 'Notebook', date: '2022-07-05', price: 12},
            {name: 'Rack Mount Chassis', date: '2022-07-01', price: 12},
            {name: 'Rack Mount Chassis', date: '2022-07-02', price: 12},
            {name: 'Rack Mount Chassis', date: '2022-07-03', price: 12},
            {name: 'Rack Mount Chassis', date: '2022-07-04', price: 12},
            {name: 'Rack Mount Chassis', date: '2022-07-05', price: 12}
];*/

        [
           {% for lineChartData in chartData.lineChartDataList %}
              {% if lineChartData.Desktop %}
                 {values: [
                    {% for Desktop in lineChartData.Desktop %}
                       {name: "{{Desktop.name}}", date: "{{Desktop.date}}", price: "{{Desktop.value}}"},
                    {% endfor%}
                 ]},
              {% endif %}
              {% if lineChartData.Notebook %}
                 {values: [
                    {% for Notebook in lineChartData.Notebook %}
                       {name: "{{Notebook.name}}", date: "{{Notebook.date}}", price: "{{Notebook.value}}"},
                    {% endfor%}
                 ]},
              {% endif %}
              {% if lineChartData.RackMountChassis %}
                 {values: [
                    {% for RackMountChassis in lineChartData.RackMountChassis %}
                       {name: "{{RackMountChassis.name}}", date: "{{RackMountChassis.date}}", price: "{{RackMountChassis.value}}"},
                    {% endfor%}
                 ]},
              {% endif %}
           {% endfor%}
        ];

        {% endif %}



	{% if chartData.pieChartDataList %}
	var pieChartData = [
		{% for pieChartData in chartData.pieChartDataList %}
			{name: '{{pieChartData.name}}', value: {{pieChartData.value}}, color: '{{pieChartData.color}}'},
		{% endfor %}
		];
	{% endif %}

	var worldMapData = [
		{x:36.503328,y:127.261827},
		{x:36.480048,y:127.289070},
		{x:33.488985,y:126.498377},
		{x:35.238289,y:128.692389},
		{x:35.892508,y:128.600602}
	];
	var koreaMapData = [
		{x:36.503328,y:127.261827},
		{x:36.480048,y:127.289070},
		{x:33.488985,y:126.498377},
		{x:35.238289,y:128.692389},
		{x:35.892508,y:128.600602}
	];
var networkData = [{
  "nodes": [
    {% for nodeData in chartData.AssociationDataList.nodeDataList %}
    {"id": '{{nodeData.id}}', "group": '{{nodeData.group}}', "name": '{{nodeData.name}}', "alarmCase" :  '{{nodeData.alarmCase}}', "alarmCount" :  '{{nodeData.alarmCount}}', "point": '{{nodeData.point}}'},
    {% endfor %}
  ],
  "links": [
    {% for linksData in chartData.AssociationDataList.linksDataList %}
    {"source": '{{linksData.source}}', "target": '{{linksData.target}}', "distance": 200},
    {% endfor %}
  ]
}];




	barChart(barChartData);
	lineChart(lineChartData);
	piechart(pieChartData);
	worldMapChart(worldMapData);
	koreaMapChart(koreaMapData);
	seongnamMap();
	pangyoMap();
	networkChart(networkData);




















</script>
<!-- Dashboard Chart End -->
<!-- navbar alert -->
<script src="{% static 'js/common/nav.js' %}"></script>
<!-- dashboard jquery -->
<script src="{% static 'js/common/dashboard.js' %}"></script>
{% endblock %}
